<template name="chat">
  {{#if Template.subscriptionsReady}}
    {{#if showPendingRequest}}
      {{> pending_request }}
    {{/if}}
    <div class="template-chat">
      <div class="page-header">
        <h1>Chat</h1>
      </div>
      <div class="conversation-container">
        <ol class="conversation">
          {{#each groupedMessages}}
            {{> chat_message_group}}
          {{/each}}
        </ol>
      </div>

      {{!--
      <ul>
        {{#each users}}
          <li>{{ name }}</li>
        {{/each}}
      </ul>

      <ul>
        {{#each messages}}
          <li>{{ text }}</li>
        {{/each}}
      </ul>
      --}}

      {{> chat_entry }}
    </div>
  {{/if}}
</template>

<template name="pending_request">
  <div class="ride-request">
    <img src="{{ photo }}">
    <form>
      <button class="accept">Yo</button>
      <button class="reject">No</button>
    </form>
  </div>
</template>

<template name="chat_message_group">
  <li class="{{ type }}">
  {{!--
    {{#if incoming}}
      <div class="face-outer">
        <div class="face"></div>
      </div>
    {{/if}}
  --}}
    <ol class="message-group">
      {{#each messages}}
        {{>chat_message}}
      {{/each}}
    </ol>
  </li>
</template>

<template name="chat_message">
  <li>
    <span class="message">
      <span class="message-inner">
       {{ text }}
      </span>
    </span>
  </li>
</template>

<template name="chat_entry">
  <form class="chat-form">
    <input type="text" name="message" autocomplete="off"/>
    <input type="submit" value="Chat"/>
  </form>
</template>
